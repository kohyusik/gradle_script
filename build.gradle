import org.apache.tools.ant.filters.ReplaceTokens

/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
apply plugin: 'java'

task copyTask(type: Copy) {

    def properties = new Properties()
    file('conf/build.proper' +
            'ties').withInputStream {
        properties.load(it)
        println properties
    }

    from('sample_script') {
        include '**/*.sh'
        rename (/(.+)-sample/, '$1')
    }
    into 'build/libs/bin'

//    filter(ReplaceTokens, tokens: properties)

    filter(ReplaceTokens, tokens: properties)

}

build.finalizedBy(copyTask)